<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TravelMate - Main</title>
    <link rel="stylesheet" href="popup-styles.css" />
    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: url("project images/m1.jpg") no-repeat center center/cover;
        background-attachment: fixed;
      }

      .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 40px;
        background: #008080;
        color: white;
        position: fixed;
        top: 0;
        left: 0;
        width: 98%;
        z-index: 1000;
      }

      .navbar h1 {
        margin: 0;
        font-size: 24px;
      }

      .nav-links {
        display: flex;
        gap: 20px;
        align-items: center;
      }

      .nav-links a {
        text-decoration: none;
        color: white;
        font-weight: bold;
        transition: color 0.3s;
      }

      .nav-links a:hover {
        color: #b3e5fc;
      }

      .profile-icon {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        overflow: hidden;
        border: 2px solid white;
      }

      .profile-icon img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
        cursor: pointer;
      }

      .content {
        padding-top: 100px;
      }

      .main {
        text-align: center;
        color: #333;
        margin-bottom: 50px;
      }

      .main h2 {
        font-size: 36px;
        font-weight: bold;
        margin-bottom: 20px;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.1);
        color: #008080;
      }

      .search-box {
        display: flex;
        justify-content: center;
        align-items: center;
        max-width: 600px;
        margin: 0 auto;
      }

      .search-box input {
        padding: 15px 20px;
        width: 70%;
        border: none;
        border-radius: 25px 0 0 25px;
        outline: none;
        font-size: 16px;
      }

      .search-box button {
        padding: 15px 25px;
        border: none;
        border-radius: 0 25px 25px 0;
        background: #006666;
        color: white;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
        transition: background 0.3s;
      }

      .search-box button:hover {
        background: #004d4d;
      }

      .search-suggestions {
        background: white;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        margin: 20px auto;
        max-width: 600px;
        display: none;
        position: relative;
        z-index: 100;
      }

      .suggestion-item {
        padding: 15px 20px;
        border-bottom: 1px solid #f0f0f0;
        cursor: pointer;
        transition: background 0.3s;
      }

      .suggestion-item:hover {
        background: #f8f9fa;
      }

      .suggestion-item:last-child {
        border-bottom: none;
      }

      .suggestion-title {
        font-weight: bold;
        color: #008080;
        margin-bottom: 5px;
      }

      .suggestion-desc {
        color: #666;
        font-size: 14px;
      }

      .services {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin: 50px auto;
        max-width: 1000px;
        padding: 0 20px;
      }

      .service-card {
        background: white;
        border-radius: 15px;
        padding: 20px;
        text-align: center;
        box-shadow: 0px 0px 8px rgba(0, 0, 0, 0.1);
        transition: 0.3s;
        cursor: pointer;
        height: 180px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }

      .service-card:hover {
        transform: scale(1.05);
        box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.2);
      }

      .icon-circle {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: #f0f0f0;
        margin-bottom: 10px;
      }

      .icon-circle img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .footer {
        background: rgba(0, 0, 0, 0.85);
        color: #fff;
        text-align: center;
        padding: 30px 20px;
        margin-top: 50px;
      }

      .footer a {
        color: #1e90ff;
        text-decoration: none;
      }

      .footer a:hover {
        text-decoration: underline;
      }

      .footer-bottom {
        margin-top: 15px;
        font-size: 14px;
        color: #ccc;
      }

      @media (max-width: 768px) {
        .services {
          grid-template-columns: repeat(2, 1fr);
        }

        .navbar {
          padding: 15px 20px;
          width: calc(100% - 40px);
        }

        .search-box {
          flex-direction: column;
          gap: 10px;
        }

        .search-box input,
        .search-box button {
          width: 100%;
          border-radius: 25px;
        }
      }
    </style>
  </head>
  <body>
    <div class="navbar">
      <h1>TravelMate</h1>
      <div class="nav-links">
        <a href="upcoming.html">Upcoming</a>
        <a href="completed.html">Completed</a>
        <a href="wallent.html">Wallet</a>
        <a href="profile.html" class="profile-icon">
          <img src="project images/profile.jpg" alt="Profile" />
        </a>
      </div>
    </div>

    <div class="content">
      <div class="main">
        <h2 style="color: white">Where do you want to go?</h2>
        <div class="search-box">
          <input
            type="text"
            id="searchInput"
            placeholder="Search destinations, hotels, activities..."
            oninput="showSearchSuggestions()"
            onkeypress="handleSearchEnter(event)"
          />
          <button onclick="performSearch()">Search</button>
        </div>

        <div class="search-suggestions" id="searchSuggestions"></div>
      </div>

      <div class="services">
        <div class="service-card" onclick="openBooking('flight')">
          <div class="icon-circle">
            <img src="project images/flight.jpg" alt="Flights" />
          </div>
          <p>Flights</p>
        </div>
        <div class="service-card" onclick="openBooking('hotel')">
          <div class="icon-circle">
            <img src="project images/hotel.png" alt="Hotels" />
          </div>
          <p>Hotels</p>
        </div>
        <div class="service-card" onclick="openBooking('train')">
          <div class="icon-circle">
            <img
              src="project images/fast-train-logo-design-high-speed-rail-icon-vector-48573881.jpg"
              alt="Trains"
            />
          </div>
          <p>Trains</p>
        </div>
        <div class="service-card" onclick="openBooking('bus')">
          <div class="icon-circle">
            <img
              src="project images/bus-logo-template-modern-travel-vector-54796901.jpg"
              alt="Buses"
            />
          </div>
          <p>Buses</p>
        </div>
        <div class="service-card" onclick="openBooking('cab')">
          <div class="icon-circle">
            <img
              src="project images/taxi-car-icon-vector-54563437.jpg"
              alt="Cabs"
            />
          </div>
          <p>Cabs</p>
        </div>
        <div class="service-card" onclick="openBooking('tour')">
          <div class="icon-circle">
            <img src="project images/tour for explore.jpg" alt="Tours" />
          </div>
          <p>Tours</p>
        </div>
        <div class="service-card" onclick="openBooking('cruise')">
          <div class="icon-circle">
            <img src="project images/cruise.png" alt="Cruise" />
          </div>
          <p>Cruise</p>
        </div>
        <div class="service-card" onclick="openBooking('insurance')">
          <div class="icon-circle">
            <img src="project images/insurance.jpg" alt="Insurance" />
          </div>
          <p>Insurance</p>
        </div>
      </div>

      <footer class="footer">
        <div class="footer-content">
          <h3>Contact Us</h3>
          <p>
            Email:
            <a href="TravelMate@gmail.com"
              ><span
                class="__cf_email__"
                data-cfemail="a7f3d5c6d1c2cbeac6d3c2e7c0cac6cecb89c4c8ca"
                >[email&#160;protected]</span
              ></a
            >
          </p>
          <p>Phone: +91-987xxxxxx</p>
          <p>Address: Hyderabad, Telangana, India</p>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2025 TravelMate Pvt. Ltd. | All Rights Reserved</p>
        </div>
      </footer>
    </div>

    <script
      data-cfasync="false"
      src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
    ></script>
    <script
      data-cfasync="false"
      src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
    ></script>
    <script src="popup-manager.js"></script>
    <script>
      const searchData = {
        destinations: [
          {
            name: "Goa",
            type: "destination",
            desc: "Beaches, nightlife, Portuguese heritage",
          },
          {
            name: "Kerala",
            type: "destination",
            desc: "Backwaters, hill stations, Ayurveda",
          },
          {
            name: "Rajasthan",
            type: "destination",
            desc: "Palaces, desert, royal heritage",
          },
          {
            name: "Himachal Pradesh",
            type: "destination",
            desc: "Mountains, adventure, snow",
          },
          {
            name: "Tamil Nadu",
            type: "destination",
            desc: "Temples, culture, South Indian cuisine",
          },
          {
            name: "Mumbai",
            type: "destination",
            desc: "Financial capital, Bollywood, street food",
          },
          {
            name: "Delhi",
            type: "destination",
            desc: "Capital city, history, monuments",
          },
          {
            name: "Bangalore",
            type: "destination",
            desc: "IT hub, gardens, pleasant weather",
          },
        ],
        services: [
          {
            name: "Flight booking",
            type: "service",
            desc: "Book domestic and international flights",
          },
          {
            name: "Train booking",
            type: "service",
            desc: "Reserve train tickets across India",
          },
          {
            name: "Bus booking",
            type: "service",
            desc: "Book bus tickets for intercity travel",
          },
          {
            name: "Cab booking",
            type: "service",
            desc: "Book local and outstation cabs",
          },
          {
            name: "Hotel booking",
            type: "service",
            desc: "Find and book hotels worldwide",
          },
          {
            name: "Tour packages",
            type: "service",
            desc: "Curated tour packages and experiences",
          },
        ],
      };

      function openBooking(type) {
        switch (type) {
          case "flight":
            window.location.href = "flights.html";
            break;
          case "train":
            window.location.href = "trains.html";
            break;
          case "bus":
            window.location.href = "buses.html";
            break;
          case "cab":
            window.location.href = "cabs.html";
            break;
          case "hotel":
            window.location.href = "hotels.html";
            break;
          case "tour":
            window.location.href = "tours.html";
            break;
          case "cruise":
            window.location.href = "cruise.html";
            break;
          case "insurance":
            window.location.href = "insurance.html";
            break;
          default:
            showErrorPopup("Coming Soon", "This feature is coming soon!");
        }
      }

      function showSearchSuggestions() {
        const input = document.getElementById("searchInput");
        const suggestions = document.getElementById("searchSuggestions");
        const query = input.value.toLowerCase().trim();

        if (query.length < 2) {
          suggestions.style.display = "none";
          return;
        }

        const allSuggestions = [
          ...searchData.destinations,
          ...searchData.services,
        ];
        const filteredSuggestions = allSuggestions
          .filter(
            (item) =>
              item.name.toLowerCase().includes(query) ||
              item.desc.toLowerCase().includes(query)
          )
          .slice(0, 5);

        if (filteredSuggestions.length === 0) {
          suggestions.style.display = "none";
          return;
        }

        suggestions.innerHTML = "";
        filteredSuggestions.forEach((item) => {
          const suggestionItem = document.createElement("div");
          suggestionItem.className = "suggestion-item";
          suggestionItem.innerHTML = `
          <div class="suggestion-title">${item.name}</div>
          <div class="suggestion-desc">${item.desc}</div>
        `;
          suggestionItem.onclick = () => selectSuggestion(item);
          suggestions.appendChild(suggestionItem);
        });

        suggestions.style.display = "block";
      }

      function selectSuggestion(item) {
        const input = document.getElementById("searchInput");
        const suggestions = document.getElementById("searchSuggestions");

        input.value = item.name;
        suggestions.style.display = "none";

        performSearch(item);
      }

      function handleSearchEnter(event) {
        if (event.key === "Enter") {
          performSearch();
        }
      }

      function performSearch(selectedItem = null) {
        const input = document.getElementById("searchInput");
        const suggestions = document.getElementById("searchSuggestions");
        const query = input.value.trim();

        suggestions.style.display = "none";

        if (!query) {
          showErrorPopup("Search Error", "Please enter a search term");
          return;
        }

        if (selectedItem) {
          handleSelectedSearch(selectedItem);
        } else {
          handleGeneralSearch(query);
        }
      }

      function handleSelectedSearch(item) {
        if (item.type === "destination") {
          window.location.href = `plan.html?destination=${encodeURIComponent(
            item.name
          )}`;
        } else if (item.type === "service") {
          const serviceMap = {
            "Flight booking": "flights.html",
            "Train booking": "trains.html",
            "Bus booking": "buses.html",
            "Cab booking": "cabs.html",
            "Hotel booking": "hotels.html",
            "Tour packages": "tours.html",
          };

          const page = serviceMap[item.name];
          if (page) {
            window.location.href = page;
          } else {
            showErrorPopup("Coming Soon", "This feature is coming soon!");
          }
        }
      }

      function handleGeneralSearch(query) {
        const destination = searchData.destinations.find((dest) =>
          dest.name.toLowerCase().includes(query.toLowerCase())
        );

        if (destination) {
          window.location.href = `plan.html?destination=${encodeURIComponent(
            destination.name
          )}`;
          return;
        }

        const service = searchData.services.find((serv) =>
          serv.name.toLowerCase().includes(query.toLowerCase())
        );

        if (service) {
          handleSelectedSearch(service);
          return;
        }

        window.location.href = `plan.html?search=${encodeURIComponent(query)}`;
      }

      document.addEventListener("click", function (event) {
        const suggestions = document.getElementById("searchSuggestions");
        const searchBox = document.querySelector(".search-box");

        if (!searchBox.contains(event.target)) {
          suggestions.style.display = "none";
        }
      });

      document.addEventListener("DOMContentLoaded", function () {
        const user = JSON.parse(
          localStorage.getItem("travelmate_current_user") || "null"
        );
      });
    </script>
  </body>
</html>
